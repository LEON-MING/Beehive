***REMOVED***!/bin/bash
***REMOVED***
***REMOVED*** Licensed to the Apache Software Foundation (ASF) under one or more
***REMOVED*** contributor license agreements.  See the NOTICE file distributed with
***REMOVED*** this work for additional information regarding copyright ownership.
***REMOVED*** The ASF licenses this file to You under the Apache License, Version 2.0
***REMOVED*** (the "License"); you may not use this file except in compliance with
***REMOVED*** the License.  You may obtain a copy of the License at
***REMOVED***
***REMOVED***     http://www.apache.org/licenses/LICENSE-2.0
***REMOVED***
***REMOVED*** Unless required by applicable law or agreed to in writing, software
***REMOVED*** distributed under the License is distributed on an "AS IS" BASIS,
***REMOVED*** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
***REMOVED*** See the License for the specific language governing permissions and
***REMOVED*** limitations under the License.
***REMOVED***
***REMOVED*** Shell script to disable rsyncd

orig_dir=$(pwd)
cd ${0%/*}/..
solr_root=$(pwd)
cd ${orig_dir}

unset user verbose debug
. ${solr_root}/bin/scripts-util

***REMOVED*** set up variables
prog=${0***REMOVED******REMOVED****/}
log=${solr_root}/logs/rsyncd.log

***REMOVED*** define usage string
USAGE="\
usage: $prog [-u username] [-v]
       -u          specify user to sudo to before running script
       -v          increase verbosity
       -V          output debugging info
"

***REMOVED*** parse args
while getopts u:vV OPTION
do
    case $OPTION in
    u)
        user="$OPTARG"
        ;;
    v)
        verbose="v"
        ;;
    V)
        debug="V"
        ;;
    *)
        echo "$USAGE"
        exit 1
    esac
done

[[ -n $debug ]] && set -x

fixUser "$@"

start=`date +"%s"`

logMessage disabled by $oldwhoami
logMessage command: $0 $@
name=${solr_root}/logs/rsyncd-enabled

if [[ -f ${name} ]]
then
    rm -f ${name}
else
    logMessage rsyncd not currently enabled
    logExit exited 1
fi

logExit ended 0
